<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>webdriverio-testing-library</title>
    <style>
      blockquote {
        margin: 0;
        border-left: 4px solid grey;
        padding-left: 10px;
        color: grey;
      }

      section {
        padding: 10px;
      }

      .pseudo-name::after {
        content: 'Named by pseudo element';
      }
    </style>
    <script
      crossorigin
      src="https://unpkg.com/react@17/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"
    ></script>
    <script>
      define = function (){}
      define.amd = {}
    </script>
  </head>

  <div>
    rando string
  </div>

  <body>
    <h1>Page Heading</h1>
    <blockquote>
      No auto-reload after changing this static HTML markup: click
      <span title="Run All Tests">â†»</span> Run All Tests.
    </blockquote>
    <section>
      <h2>getByPlaceholderText</h2>
      <input type="text" placeholder="Placeholder Text" />
    </section>
    <section>
      <h2>getByText</h2>
      <button onclick="this.innerText = 'Button Clicked'">
        Unique Button Text
      </button>
      <div id="nested" data-testid="nested">
        <h3>getByText within</h3>
        <button onclick="this.innerText = 'Button Clicked'">Button Text</button>
      </div>
      <div id="nested2" data-testid="nested2">
        <h3>getByText within</h3>
        <button onclick="this.innerText = 'Button Clicked'">Button Text</button>
        <span>text only in 2nd nested</span>
        <span>another thing only in 2nd nested</span>
      </div>
    </section>
    <section>
      <h2>getByLabelText</h2>
      <label for="input-labelled-by-id">Label For Input Labelled By Id</label>
      <input
        type="text"
        placeholder="Input Labelled By Id"
        id="input-labelled-by-id"
      />
    </section>
    <section>
      <h2>getByAltText</h2>
      <img
        src="data:image/png;base64,"
        alt="Image Alt Text"
        onclick="this.style.border = '5px solid red'"
      />
    </section>
    <section>
      <h2>getByTestId</h2>
      <img
        data-testid="image-with-random-alt-tag"
        src="data:image/png;base64,"
        onclick="this.style.border = '5px solid red'"
      />
    </section>
    <section>
      <h2>configure</h2>
      <img
        data-automation-id="image-with-random-alt-tag"
        src="data:image/png;base64,"
        onclick="this.style.border = '5px solid red'"
      />
      <button class="pseudo-name" />
      <section aria-hidden="true" style="visibility: hidden;">
        <button>
          Hidden button
        </button>
      </section>
      <button
        data-testid="button-that-should-not-use-testid"
        aria-label="Can be targeted by other queries"
      />
    </section>
    <section>
      <h2>configure standalone</h2>

      <img
        data-other-test-id="other-id"
        src="data:image/png;base64,"
        onclick="this.style.border = '5px solid red'"
      />
    </section>
    <section>
      <h2>getAllByText</h2>
      <button onclick="this.innerText = 'Jackie Kicked'">Jackie Chan 1</button>
      <button onclick="this.innerText = 'Jackie Kicked'">Jackie Chan 2</button>
    </section>
    <section>
      <h2>navigate</h2>
      <a href="page2.html">Go to Page 2</a>
    </section>
    <section>
      <h2>Simmer</h2>
      <div>
        <div>
          <div>
            <div>
              High depth non-specific div one
            </div>
          </div>
        </div>
      </div>
      <div>
        <div>
          <div>
            <div>
              High depth non-specific div two
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="react-root"></div>

    <!-- Prettier unindents the script tag below -->
    <script>
      document
        .querySelector('[data-testid="image-with-random-alt-tag"]')
        .setAttribute('alt', 'Image Random Alt Text ' + Math.random())
    </script>

    <!-- utils -->
    <script>
      function createButton(text) {
        const button = document.createElement('button')
        button.textContent = text
        document.body.appendChild(button)
      }

      setTimeout(function () {
        createButton('Unique Delayed Button Text')
        createButton('Delayed Button Text')
        createButton('Delayed Button Text')
      }, 750)

      setTimeout(function () {
        createButton('Long Delayed Button Text')
      }, 2000)
    </script>

    <!-- React app -->
    <script>
      const Root = () => {
        const [titleKey, setTitleKey] = React.useState('initial')
        return React.createElement(
          React.StrictMode,
          undefined,
          React.createElement('section', undefined, [
            React.createElement('h2', {key: titleKey, id: 'react-title'}, 'React'),
            React.createElement('button', { onClick: () => setTitleKey('updated') }, 'Recreate React Title'),
          ]),
        )
      }

      ReactDOM.render(
        React.createElement(Root),
        document.getElementById('react-root'),
      )
    </script>
  </body>
</html>
